{% extends "layout.html" %}

{% block titulo %}Hospedaje Sofi | Habitaciones{% endblock %} 

{% block content %}
<section class="habitaciones">
  <div class="container">
    <h1 class="titulo-seccion">Nuestras Habitaciones</h1>
    
    <div class="grid-habitaciones">
      {% for habitacion in habitaciones %}
      <div class="hab-card">
        <div class="hab-image">
          <img src="{{ habitacion.imagen_url }}" alt="{{ habitacion.nombre }}">
          <span class="estado-badge estado-{{ habitacion.estado.lower() }}">{{ habitacion.estado }}</span>
        </div>
        <div class="hab-content">
          <h3 class="hab-nombre">{{ habitacion.nombre }}</h3>
          
          {% if habitacion.servicios %}
          <div class="hab-servicios-pills">
            {% for servicio in habitacion.servicios[:4] %}
            <span class="hab-servicio-pill">{{ servicio }}</span>
            {% endfor %}
            {% if habitacion.servicios|length > 4 %}
            <span class="hab-servicio-pill more">+{{ habitacion.servicios|length - 4 }}</span>
            {% endif %}
          </div>
          {% endif %}
          
          <div class="hab-footer">
            <div class="hab-precio-info">
              <span class="hab-precio-valor">S/ {{ "%.0f"|format(habitacion.precio_noche) }}</span>
              <span class="hab-precio-texto">por noche</span>
            </div>
            <a href="/habitacion/{{ habitacion.idhabitacion }}" class="hab-btn-action">Ver Habitación</a>
          </div>
        </div>
      </div>
      {% endfor %}
      
      {% if not habitaciones %}
      <div style="grid-column: 1 / -1; text-align: center; padding: 2rem;">
        <h3>No hay habitaciones disponibles en este momento</h3>
        <p>Por favor, vuelve más tarde o contacta con nosotros.</p>
      </div>
      {% endif %}
    </div>
  </div>
</section>
{% endblock %}