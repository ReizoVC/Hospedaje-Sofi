{% extends 'staff_layout.html' %} 
{% block title %}Gestion Reservas | Hospedaje Sofi{% endblock %} 

{% block extra_css %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/recep/gestion_reservas.css') }}" />
{% endblock %}

{% block content %}
<div class="container">
    
    <!-- Header del contenido -->
    <div class="content-header fade-in-up">
      <h3 class="titulo-seccion">Gestión de Reservas</h3>
      <div style="display: flex; gap: 1rem; align-items: center;">
        <small style="color: var(--secondary-color); font-style: italic;">
          *Las reservas completadas se encuentran en un menú separado
        </small>
        <button class="btn btn-nueva" onclick="abrirModalNuevaReserva()">
          <i class="fas fa-plus"></i>
          Nueva Reserva
        </button>
      </div>
    </div>

    <!-- Estadísticas rápidas -->
    <div class="stats-container fade-in-up">
      <div class="stat-card">
        <div class="stat-icon pending">
          <i class="fas fa-clock"></i>
        </div>
        <div class="stat-number">0</div>
        <div class="stat-label">Pendientes</div>
      </div>
      <div class="stat-card">
        <div class="stat-icon confirmed">
          <i class="fas fa-check-circle"></i>
        </div>
        <div class="stat-number">0</div>
        <div class="stat-label">Confirmadas</div>
      </div>
      <div class="stat-card">
        <div class="stat-icon total" style="background: rgba(8, 172, 163, 0.1); color: var(--primary-color);">
          <i class="fas fa-play"></i>
        </div>
        <div class="stat-number">0</div>
        <div class="stat-label">Activas</div>
      </div>
      <div class="stat-card">
        <div class="stat-icon cancelled">
          <i class="fas fa-times-circle"></i>
        </div>
        <div class="stat-number">0</div>
        <div class="stat-label">Canceladas</div>
      </div>
      <div class="stat-card">
        <div class="stat-icon total">
          <i class="fas fa-calendar-alt"></i>
        </div>
        <div class="stat-number">0</div>
        <div class="stat-label">Total Reservas</div>
      </div>
    </div>

    <!-- Tabla moderna -->
    <div class="table-container fade-in-up">
      <table class="table table-hover">
        <thead>
          <tr>
            <th><i class="fas fa-hashtag me-2"></i>ID</th>
            <th><i class="fas fa-user me-2"></i>Usuario</th>
            <th><i class="fas fa-door-open me-2"></i>Habitación</th>
            <th><i class="fas fa-calendar-check me-2"></i>Fecha Inicio</th>
            <th><i class="fas fa-calendar-times me-2"></i>Fecha Fin</th>
            <th><i class="fas fa-info-circle me-2"></i>Estado</th>
            <th><i class="fas fa-cogs me-2"></i>Acciones</th>
          </tr>
        </thead>
        <tbody id="reservasTableBody">
          <tr>
            <td colspan="7" class="loading-cell">
              <div class="loading-spinner"></div>
              <span>Cargando reservas...</span>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <script src="{{ url_for('static', filename='js/recep/gestion_reservas.js') }}"></script>
{% endblock %}